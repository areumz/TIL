객체지향 - this
================

# 함수와 this

* this는 함수 내에서 함수 호출 맥락(context)를 의미한다.   
맥락이라는 것은 상황에 따라서 달라진다는 의미인데 즉 함수를 어떻게 호출하느냐에 따라서 this가 가리키는 대상이 달라진다는 뜻이다.
* 함수와 객체의 관계가 느슨한 자바스크립트에서 this는 이 둘을 연결시켜주는 실질적인 연결점의 역할을 한다.

# 메소드와 this
```
var o = {
    func : function(){
        if(o === this){
            document.write("o === this");
        }
    }
}
o.func();  
```
* 어떠한 객체 안에서 메소드에서 그 메소드를 호출하면 그 메소드가 소속되어있는 객체를 this로 우리는 접근할 수 있다
* cf) func라는 함수 정의했는데, 이것이 어디에도 속해있지 않을 경우 호출하면 이 안에서 this는 window라고 하는 전역객체를 가리킴 (in 브라우저)   
그러나 o.func() 라는 메소드를 호출하면 이것의 this는 o를 가리킴   
이것은 사실 같은 결과 (window는 전역객체로서 암시적이기 때문)   

# 생성자와 this
```
var funcThis = null; 
 
function Func(){
    funcThis = this;
}
var o1 = Func();
if(funcThis === window){
    document.write('window <br />');
}
//함수 호출시, 6행의 funcThis는 var 붙어있지않기에 전역변수인 1행을 가리키게됨
functhis의 값은 window를 가리킴
 
var o2 = new Func();
if(funcThis === o2){
    document.write('o2 <br />');
}
//new를 붙이면 비어있는 객체를 만들고, 그 비어있는 객체는 생성자 안에서 this가 됨
생성자 통해 만들어진 객체에는 o2가 담겨있음 (1행 참고)
```

* 생성자로 사용될 때는 this가 생성될 객체를 가리킴   
함수로 호출할 때는 this가 window를 가리킴

* 생성자 호출할 때는, 생성자 호출이 모두 끝난뒤에 변수에 우리가 생성한 객체가 할당됨   
그전까지는 객체는 만들어져있지만 o2라는 변수에 할당되어있지않음   
(위 예제에서는 o2)
